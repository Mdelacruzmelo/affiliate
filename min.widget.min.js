var mainUrl="https://dotravel.com",affUrl="https://cdn.jsdelivr.net/gh/devDotravel/affiliate/";function insertData(e){fetchJSONFile(mainUrl+"/affiliate/widget/"+e,function(){insertProducts(data,e),insertDoTravelCSS(data,e),removeLinkContainer(data,e)})}function getDoTravelGeneralCSS(){var e=document.createElement("link");e.href=affUrl+"dotravelGeneral.min.css",e.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(e)}function insertDoTravelCSS(e){console.log(e);var t=e.settings.shape,a=document.createElement("link"),r=e.settings.color_scheme;if(r=parseInt(r),"horizontal"==t)switch(r){case 1:a.href=affUrl+"dotravelT1H.min.css";break;case 2:a.href=affUrl+"dotravelT2H.min.css";break;case 3:a.href=affUrl+"dotravelT3H.min.css"}else if("vertical"==t)switch(r){case 1:a.href=affUrl+"dotravelT1V.min.css";break;case 2:a.href=affUrl+"dotravelT2V.min.css";break;case 3:a.href=affUrl+"dotravelT3V.min.css"}a.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(a)}function fetchJSONFile(e,t){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&(data=JSON.parse(a.responseText),t&&t(data))},a.open("GET",e),a.send()}function insertProducts(e,t){var a=document.createElement("span");e.products.forEach(function(t,r){var n=document.createElement("span");n.setAttribute("class","DoTravel-Product-Title"),n.innerHTML=t.title;var i=document.createElement("p");i.setAttribute("class","DoTravel-Product-Description"),i.innerHTML=t.summary;var l=document.createElement("a");l.setAttribute("class","DoTravel-Button-Show"),l.setAttribute("href",t.url+"&referral_url="+window.location.href),l.setAttribute("target","_blank"),l.innerHTML="Book Now";var s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("width","14"),s.setAttribute("height","14"),s.setAttribute("viewBox","0 -10 512 512");var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttributeNS(null,"d","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm57.1 350.1L224.9 294c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v137.7l63.5 46.2c5.4 3.9 6.5 11.4 2.6 16.8l-28.2 38.8c-3.9 5.3-11.4 6.5-16.8 2.6z"),o.setAttribute("fill","#24A393"),s.appendChild(o);var c=document.createElement("span");c.setAttribute("class","DoTravel-Product-Duration"),document.createElement("i").setAttribute("class","DoTravel-Icon-Clock");var d=document.createElement("span");d.setAttribute("class","DoTravel-Span-Duration"),d.innerHTML=t.duration,c.appendChild(s),c.appendChild(d);var u=document.createElement("span");u.setAttribute("class","DoTravel-Rating-Stars");var m=t.rating;console.log(m);var v="";4.49<m?v+="&#9733 &#9733 &#9733 &#9733 &#9733":3.49<m?v+="&#9733 &#9733 &#9733 &#9733 &#9734":2.49<m?v+="&#9733 &#9733 &#9733 &#9734 &#9734":1.49<m?v+="&#9733 &#9733 &#9734 &#9734 &#9734":.49<m?v+="&#9733 &#9734 &#9734 &#9734 &#9734":m<.49&&(v+="&#9734 &#9734 &#9734 &#9734 &#9734"),u.innerHTML=v;var p=document.createElement("span");p.setAttribute("class","DoTravel-Rating-Container"),p.appendChild(u);var h=document.createElement("span");if(h.setAttribute("class","DoTravel-Product-Price"),h.innerHTML=t.price+"  "+t.currency,void 0!==t.offerPrice){var f=document.createElement("span");f.setAttribute("class","DoTravel-Product-Offer-Price"),f.innerHTML=t.offerPrice+"  "+t.currency,h.classList.add("DoTravel-Text-Dashed")}var T=document.createElement("span");T.setAttribute("class","DoTravel-Product-Reviews");var g;g=1<t.reviews?"reviews":"review",T.innerHTML=t.reviews+" "+g;var b=document.createElement("div");b.setAttribute("class","DoTravel-Product-Image"),b.setAttribute("style","background-image:url("+t.img+");");var C=document.createElement("a");C.setAttribute("href",t.url),C.setAttribute("target","_blank"),C.appendChild(b);var D=document.createElement("div");D.setAttribute("class","DoTravel-Product-Info"),D.appendChild(n);var w=document.createElement("div");w.setAttribute("class","DoTravel-Container-RRD"),w.appendChild(p),p.appendChild(T),w.appendChild(c),D.appendChild(w),e.settings.summary&&D.appendChild(i),D.appendChild(l),void 0!==t.offerPrice&&D.appendChild(f),D.appendChild(h);var A=document.createElement("span");A.setAttribute("class","DoTravel-Span-Container"),A.appendChild(C),A.appendChild(D);var E=document.createElement("a");E.setAttribute("class","DoTravel-Product-Container"),E.setAttribute("href",t.url),E.setAttribute("target","_blank"),E.setAttribute("id","DoTravel-Product-"+(r+1)),E.appendChild(A);var y=document.createElement("div");y.setAttribute("class","DoTravel-Clearfix"),E.appendChild(y),document.getElementById("DoTravel-Campaign").classList.add("DoTravel-Container"),1==e.settings.quantity&&document.getElementById("DoTravel-Campaign").setAttribute("style","flex-direction:column"),a.setAttribute("class","DoTravel-Campaign-Container"),a.appendChild(E)});var r=document.createElement("span");r.setAttribute("class","DoTravel-Powered-By"),"horizontal"==e.settings.shape&&(1==e.settings.quantity?r.classList.add("DoTravel-Powered-1P"):2==e.settings.quantity?r.classList.add("DoTravel-Powered-2P"):3==e.settings.quantity&&r.classList.add("DoTravel-Powered-3P")),r.innerHTML="Powered by ";var n=document.createElement("a");n.setAttribute("href","https://dotravel.com"),n.setAttribute("target","_blank"),n.style.textDecoration="none",n.style.color="black",n.innerHTML="DoTravel",r.appendChild(n),a.appendChild(r),document.getElementById("DoTravel-Campaign").appendChild(a),document.getElementById("DoTravel-Campaign").id="DoTravel-Campaign-"+t}function removeLinkContainer(e,t){var a=document.getElementById("DoTravel-Campaign-"+t),r=a.parentNode;r.parentNode.insertBefore(a,r.nextSibling),r.parentElement.removeChild(r)}function checkMetaViewPort(){if(0==document.querySelectorAll('meta[name="viewport"][content="width=device-width, initial-scale=1.0"]').length){var e=document.createElement("meta");e.name="viewport",e.content="width=device-width, initial-scale=1.0",document.getElementsByTagName("head")[0].appendChild(e)}}checkMetaViewPort();var id=document.currentScript.getAttribute("id");insertData(id);
