var mainUrl="https://dotravel.com",affUrl="https://cdn.jsdelivr.net/gh/devDotravel/affiliate/";function insertData(e){fetchJSONFile(mainUrl+"/affiliate/widget/"+e,function(){insertProducts(data,e),insertDoTravelCSS(data,e),removeLinkContainer(data,e)})}function getDoTravelGeneralCSS(){var e=document.createElement("link");e.href=affUrl+"DoTravel-General.css",e.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(e)}function insertDoTravelCSS(e){console.log(e);var t=e.settings.shape,a=document.createElement("link"),r=e.settings.color_scheme;if(r=parseInt(r),"horizontal"==t)switch(r){case 1:a.href=affUrl+"/web/affiliate/css/DoTravel-T1H.css";break;case 2:a.href=affUrl+"/web/affiliate/css/DoTravel-T2H.css";break;case 3:a.href=affUrl+"/web/affiliate/css/DoTravel-T3H.css"}else if("vertical"==t)switch(r){case 1:a.href=affUrl+"/web/affiliate/css/DoTravel-T1V.css";break;case 2:a.href=affUrl+"/web/affiliate/css/DoTravel-T2V.css";break;case 3:a.href=affUrl+"/web/affiliate/css/DoTravel-T3V.css"}a.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(a)}function fetchJSONFile(e,t){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&(data=JSON.parse(a.responseText),t&&t(data))},a.open("GET",e),a.send()}function insertProducts(E,e){var y=document.createElement("span");E.products.forEach(function(e,t){var a=document.createElement("span");a.setAttribute("class","DoTravel-Product-Title"),a.innerHTML=e.title;var r=document.createElement("p");r.setAttribute("class","DoTravel-Product-Description"),r.innerHTML=e.summary;var n=document.createElement("a");n.setAttribute("class","DoTravel-Button-Show"),n.setAttribute("href",e.url+"&referral_url="+window.location.href),n.setAttribute("target","_blank"),n.innerHTML="Book Now";var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("width","14"),i.setAttribute("height","14"),i.setAttribute("viewBox","0 -10 512 512");var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttributeNS(null,"d","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm57.1 350.1L224.9 294c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v137.7l63.5 46.2c5.4 3.9 6.5 11.4 2.6 16.8l-28.2 38.8c-3.9 5.3-11.4 6.5-16.8 2.6z"),s.setAttribute("fill","#24A393"),i.appendChild(s);var l=document.createElement("span");l.setAttribute("class","DoTravel-Product-Duration"),document.createElement("i").setAttribute("class","DoTravel-Icon-Clock");var c=document.createElement("span");c.setAttribute("class","DoTravel-Span-Duration"),c.innerHTML=e.duration,l.appendChild(i),l.appendChild(c);var o=document.createElement("span");o.setAttribute("class","DoTravel-Rating-Stars");var d=e.rating;console.log(d);var u="";4.49<d?u+="&#9733 &#9733 &#9733 &#9733 &#9733":3.49<d?u+="&#9733 &#9733 &#9733 &#9733 &#9734":2.49<d?u+="&#9733 &#9733 &#9733 &#9734 &#9734":1.49<d?u+="&#9733 &#9733 &#9734 &#9734 &#9734":.49<d?u+="&#9733 &#9734 &#9734 &#9734 &#9734":d<.49&&(u+="&#9734 &#9734 &#9734 &#9734 &#9734"),o.innerHTML=u;var v=document.createElement("span");v.setAttribute("class","DoTravel-Rating-Container"),v.appendChild(o);var m=document.createElement("span");if(m.setAttribute("class","DoTravel-Product-Price"),m.innerHTML=e.price+"  "+e.currency,void 0!==e.offerPrice){var p=document.createElement("span");p.setAttribute("class","DoTravel-Product-Offer-Price"),p.innerHTML=e.offerPrice+"  "+e.currency,m.classList.add("DoTravel-Text-Dashed")}var f=document.createElement("span");f.setAttribute("class","DoTravel-Product-Reviews");var h="";h=1<e.reviews?"reviews":"review",f.innerHTML=e.reviews+" "+h;var T=document.createElement("div");T.setAttribute("class","DoTravel-Product-Image"),T.setAttribute("style","background-image:url("+e.img+");");var b=document.createElement("a");b.setAttribute("href",e.url),b.setAttribute("target","_blank"),b.appendChild(T);var g=document.createElement("div");g.setAttribute("class","DoTravel-Product-Info"),g.appendChild(a);var D=document.createElement("div");D.setAttribute("class","DoTravel-Container-RRD"),D.appendChild(v),v.appendChild(f),D.appendChild(l),g.appendChild(D),E.settings.summary&&g.appendChild(r),g.appendChild(n),void 0!==e.offerPrice&&g.appendChild(p),g.appendChild(m);var w=document.createElement("span");w.setAttribute("class","DoTravel-Span-Container"),w.appendChild(b),w.appendChild(g);var C=document.createElement("a");C.setAttribute("class","DoTravel-Product-Container"),C.setAttribute("href",e.url),C.setAttribute("target","_blank"),C.setAttribute("id","DoTravel-Product-"+(t+1)),C.appendChild(w);var A=document.createElement("div");A.setAttribute("class","DoTravel-Clearfix"),C.appendChild(A),document.getElementById("DoTravel-Campaign").classList.add("DoTravel-Container"),1==E.settings.quantity&&document.getElementById("DoTravel-Campaign").setAttribute("style","flex-direction:column"),y.setAttribute("class","DoTravel-Campaign-Container"),y.appendChild(C)});var t=document.createElement("span");t.setAttribute("class","DoTravel-Powered-By"),"horizontal"==E.settings.shape&&(1==E.settings.quantity?t.classList.add("DoTravel-Powered-1P"):2==E.settings.quantity?t.classList.add("DoTravel-Powered-2P"):3==E.settings.quantity&&t.classList.add("DoTravel-Powered-3P")),t.innerHTML="Powered by ";var a=document.createElement("a");a.setAttribute("href","https://dotravel.com"),a.setAttribute("target","_blank"),a.style.textDecoration="none",a.style.color="black",a.innerHTML="DoTravel",t.appendChild(a),y.appendChild(t),document.getElementById("DoTravel-Campaign").appendChild(y),document.getElementById("DoTravel-Campaign").id="DoTravel-Campaign-"+e}function removeLinkContainer(e,t){var a=document.getElementById("DoTravel-Campaign-"+t),r=a.parentNode;r.parentNode.insertBefore(a,r.nextSibling),r.parentElement.removeChild(r)}function checkMetaViewPort(){if(0==document.querySelectorAll('meta[name="viewport"][content="width=device-width, initial-scale=1.0"]').length){var e=document.createElement("meta");e.name="viewport",e.content="width=device-width, initial-scale=1.0",document.getElementsByTagName("head")[0].appendChild(e)}}checkMetaViewPort();var id=document.currentScript.getAttribute("id");insertData(id);
